#+TITLE: VAE for single cells
#+AUTHOR: Abhishek Sarkar
#+EMAIL: aksarkar@uchicago.edu
#+EXCLUDE_TAGS: noexport
#+HTML_CONTAINER: div
#+HTML_DOCTYPE: html-strict
#+LANGUAGE: en
#+OPTIONS: ':nil *:t -:t ::t <:t H:3 \n:nil ^:t arch:headline author:t
#+OPTIONS: broken-links:nil c:nil creator:nil d:(not "LOGBOOK") date:t e:t
#+OPTIONS: email:nil f:t inline:t num:t p:nil pri:nil prop:nil stat:t tags:t
#+OPTIONS: html-link-use-abs-url:nil html-postamble:auto html-preamble:t
#+OPTIONS: html-scripts:t html-style:t html5-fancy:nil tex:t
#+OPTIONS: tasks:t tex:t timestamp:t title:t toc:t todo:t |:t

* Setup

#+BEGIN_SRC emacs-lisp :results none
(setq ob-ipython-command "ipython")
#+END_SRC

Run a remote ~ipython3~ kernel on ~midway2~, then connect to it locally using
[[https://github.com/gregsexton/ob-ipython][ob-ipython]]. On the ~org-mode~ side, we need to name the connection file for the
kernel in such a way that ~ob-ipthon~ recognizes it.

#+BEGIN_SRC shell :results none
source activate nwas
sbatch --time=12:00:00 --job-name=ipython3 --output=ipython3.out
#!/bin/bash
ipython3 kernel --ip=$(hostname -i) -f kernel-aksarkar.json
#+END_SRC

#+BEGIN_SRC ipython :session kernel-aksarkar.json
  import edward as ed
  import gzip
  import pandas as pd
#+END_SRC

* Data

#+BEGIN_SRC ipython :session kernel-aksarkar.json
  with gzip.open('/home/aksarkar/projects/singlecell/data/mouse-p14-dge.txt.gz', 'rt') as f:
      dge = pd.read_table(f)
#+END_SRC

* Model

#+BEGIN_SRC 

#+END_SRC
